'use client';

import { cn } from '@/lib/utils';

interface MerchantBadgeProps {
  merchantKey: string;
  size?: 'sm' | 'md' | 'lg';
  showName?: boolean;
  className?: string;
}

const MERCHANT_CONFIG = {
  amazon: {
    name: 'Amazon',
    color: 'bg-orange-500',
    textColor: 'text-white',
    icon: (
      <svg className="h-full w-full" viewBox="0 0 24 24" fill="currentColor">
        <path d="M14.193 8.485c0 1.338-0.168 2.417-0.504 3.237-0.336 0.82-0.874 1.23-1.614 1.23-0.893 0-1.492-0.679-1.492-1.697 0-1.771 1.59-2.094 3.61-2.094v0.324zM17.5 15.969c-0.168 0.146-0.41 0.157-0.598 0.059-0.84-0.695-0.99-1.017-1.451-1.68-1.387 1.41-2.369 1.833-4.169 1.833-2.13 0-3.786-1.314-3.786-3.944 0-2.055 1.114-3.456 2.698-4.142 1.373-0.603 3.289-0.71 4.752-0.876v-0.326c0-0.598 0.046-1.305-0.305-1.806-0.305-0.447-0.888-0.632-1.403-0.632-0.953 0-1.8 0.488-2.007 1.499-0.043 0.224-0.21 0.445-0.436 0.456l-2.515-0.269c-0.205-0.046-0.432-0.21-0.373-0.524 0.557-2.93 3.206-3.816 5.58-3.816 1.213 0 2.797 0.323 3.754 1.24 1.213 1.159 1.097 2.704 1.097 4.388v3.975c0 1.196 0.496 1.719 0.963 2.365 0.164 0.227 0.2 0.499-0.006 0.669-0.514 0.428-1.428 1.224-1.931 1.672l-0.005-0.003z" />
        <path d="M19.5 17.5c-2.832 2.088-6.935 3.197-10.463 3.197-4.955 0-9.417-1.832-12.789-4.883-0.265-0.24-0.027-0.567 0.29-0.381 3.643 2.119 8.146 3.395 12.798 3.395 3.138 0 6.59-0.651 9.763-2.001 0.479-0.203 0.881 0.315 0.401 0.673z" />
        <path d="M20.726 15.952c-0.362-0.465-2.397-0.22-3.313-0.111-0.278 0.033-0.321-0.209-0.07-0.384 1.621-1.14 4.281-0.811 4.591-0.429 0.31 0.386-0.081 3.061-1.609 4.34-0.234 0.196-0.457 0.092-0.353-0.168 0.343-0.858 1.116-2.784 0.754-3.248z" />
      </svg>
    ),
  },
  rainforest: {
    name: 'Amazon',
    color: 'bg-orange-500',
    textColor: 'text-white',
    icon: (
      <svg className="h-full w-full" viewBox="0 0 24 24" fill="currentColor">
        <path d="M14.193 8.485c0 1.338-0.168 2.417-0.504 3.237-0.336 0.82-0.874 1.23-1.614 1.23-0.893 0-1.492-0.679-1.492-1.697 0-1.771 1.59-2.094 3.61-2.094v0.324zM17.5 15.969c-0.168 0.146-0.41 0.157-0.598 0.059-0.84-0.695-0.99-1.017-1.451-1.68-1.387 1.41-2.369 1.833-4.169 1.833-2.13 0-3.786-1.314-3.786-3.944 0-2.055 1.114-3.456 2.698-4.142 1.373-0.603 3.289-0.71 4.752-0.876v-0.326c0-0.598 0.046-1.305-0.305-1.806-0.305-0.447-0.888-0.632-1.403-0.632-0.953 0-1.8 0.488-2.007 1.499-0.043 0.224-0.21 0.445-0.436 0.456l-2.515-0.269c-0.205-0.046-0.432-0.21-0.373-0.524 0.557-2.93 3.206-3.816 5.58-3.816 1.213 0 2.797 0.323 3.754 1.24 1.213 1.159 1.097 2.704 1.097 4.388v3.975c0 1.196 0.496 1.719 0.963 2.365 0.164 0.227 0.2 0.499-0.006 0.669-0.514 0.428-1.428 1.224-1.931 1.672l-0.005-0.003z" />
        <path d="M19.5 17.5c-2.832 2.088-6.935 3.197-10.463 3.197-4.955 0-9.417-1.832-12.789-4.883-0.265-0.24-0.027-0.567 0.29-0.381 3.643 2.119 8.146 3.395 12.798 3.395 3.138 0 6.59-0.651 9.763-2.001 0.479-0.203 0.881 0.315 0.401 0.673z" />
      </svg>
    ),
  },
  shopify: {
    name: 'Shopify',
    color: 'bg-green-600',
    textColor: 'text-white',
    icon: (
      <svg className="h-full w-full" viewBox="0 0 24 24" fill="currentColor">
        <path d="M15.337 2.786c-.096-.083-.184-.096-.28-.096-.023 0-.513.012-.513.012l-2.476 2.498s-.256.21-.44.289c-.183.072-.396.083-.513.083-.12-.012-.268-.036-.28-.048L9.6 4.687C9.096 4.43 8.387 4.3 7.69 4.3c-.092 0-.184 0-.28.012-.012-.024-.024-.048-.036-.072C7.24 3.944 6.94 3.65 6.545 3.52c-.792-.263-1.584-.072-2.063.443-.756.803-.972 1.87-1.015 2.627 0 0-1.584.513-1.86.608C1.26 7.34 1.224 7.364 1.188 7.52c-.036.132-.996 7.646-.996 7.646l10.883 2.052 5.316-1.207C16.39 15.998 15.337 2.786 15.337 2.786zm-2.964.9l-1.38.444c0-.227-.012-.564-.06-.96.396.084.972.276 1.44.516zm-.888 2.7l-1.8.575c.18-1.056.612-1.788 1.056-2.148.108.324.18.9.18 1.344 0 .108.012.156.012.156s.012.06.012.072zm-1.32-3.312c.096 0 .18.012.264.036-.54.42-1.08 1.332-1.296 2.724l-1.476.468c.3-.96.936-2.1 2.508-3.228zm1.224 10.8l-2.82-.66s1.404-4.236 1.536-4.62c.132-.396.48-.804.876-.66.42.132.408 1.128.408 1.128s-.996 3.3-1.2 4.116c-.096.36.204.684.564.696h.636z" />
      </svg>
    ),
  },
  gumroad: {
    name: 'Gumroad',
    color: 'bg-pink-500',
    textColor: 'text-white',
    icon: (
      <svg className="h-full w-full" viewBox="0 0 24 24" fill="currentColor">
        <path d="M15.826 6.244c-.646-.547-1.471-.82-2.467-.82H8.668c-.257 0-.479.213-.479.48v11.79c0 .257.213.48.479.48h1.198c.266 0 .48-.213.48-.48V13.48h2.502c1.005 0 1.83-.274 2.476-.82.646-.548.97-1.28.97-2.198v-.02c-.01-.917-.333-1.65-.97-2.198zM14.15 10.43c0 .918-.667 1.386-1.987 1.386h-2.288V9.043h2.288c1.32 0 1.987.469 1.987 1.387z" />
      </svg>
    ),
  },
  unknown: {
    name: 'Merchant',
    color: 'bg-gray-600',
    textColor: 'text-white',
    icon: (
      <svg className="h-full w-full" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
      </svg>
    ),
  },
};

export function MerchantBadge({
  merchantKey,
  size = 'sm',
  showName = false,
  className,
}: MerchantBadgeProps) {
  const merchant = MERCHANT_CONFIG[merchantKey.toLowerCase() as keyof typeof MERCHANT_CONFIG] || MERCHANT_CONFIG.unknown;

  const sizeClasses = {
    sm: 'h-6 px-2 text-xs',
    md: 'h-8 px-3 text-sm',
    lg: 'h-10 px-4 text-base',
  };

  const iconSizes = {
    sm: 'h-3 w-3',
    md: 'h-4 w-4',
    lg: 'h-5 w-5',
  };

  return (
    <div
      className={cn(
        'inline-flex items-center gap-1.5 rounded-full font-medium backdrop-blur-sm',
        merchant.color,
        merchant.textColor,
        sizeClasses[size],
        className
      )}
    >
      <span className={iconSizes[size]}>{merchant.icon}</span>
      {showName && <span>{merchant.name}</span>}
    </div>
  );
}
